apiVersion: automation.cloudbees.io/v1alpha1
kind: workflow
name: My automation

on:
  workflow_dispatch: {}

jobs:
  build:
    steps:
      - name: action test
        uses: https://bitbucket.saas-preprod.beescloud.com/scm/ct/wf2-java-hello-world.git/.cloudbees/actions/custom-action@main
        with:
          arg-1: |
            Optimus Prime
# apiVersion: automation.cloudbees.io/v1alpha1
# kind: workflow
# name: My workflow
# on:
#   workflow_dispatch:
  
# permissions:
#   id-token: write
  
# jobs:
#   build:
#     steps:
          
#       - name: Login to AWS
#         uses: cloudbees-io/configure-aws-credentials@v1
#         id: aws-login
#         with:
#           aws-region: us-east-1
#           role-to-assume: arn:aws:iam::020229604682:role/aws-reserved/sso.amazonaws.com/AWSReservedSSO_platform-dev_5cbaf5426222b8f3
#           role-duration-seconds: "3600"
